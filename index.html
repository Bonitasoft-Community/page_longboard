<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->


<head>
    <meta charset="utf-8">
    <title>Longboard Monitor</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="pageResource?page=custompage_longboard&location=style/animate.css" />
    <link rel="stylesheet" href="pageResource?page=custompage_longboard&location=style/bootstrap.min.css">
	<link rel="stylesheet" href="pageResource?page=custompage_longboard&location=style/main.css">
	<link rel="stylesheet" href="pageResource?page=custompage_longboard&location=style/style.css">
	<link rel="stylesheet" href="pageResource?page=custompage_longboard&location=style/toggle.css">
 
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript" src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;hl=fr&amp;packages=corechart&amp;async=2"></script>
	<link type="text/css" href="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/ui+fr.css" rel="stylesheet">
	<script type="text/javascript" src="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/format+fr,default+fr,ui+fr,corechart+fr.I.js"></script>
	<link href="https://ajax.googleapis.com/ajax/static/modules/gviz/1.0/core/tooltip.css" rel="stylesheet" type="text/css">
		
			
<style>
.Loading {
    display: inline-block;
    vertical-align: middle;
    background-position: center;
    background:no-repeat;
    background-image: url('data:image/gif;base64,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');
    width:20px;
    height:20px;
    margin-top:6px;
    margin-right:7px;
}
.AutocompleteDropDown {
	background-color: #fcf8e3;
	}
</style>
</head>
<body ng-app="longboardmonitor">


<!--  Page Directory: @_PAGEDIRECTORY_@ -->

<div class="bs-component"  ng-controller="MainController as mainctrl">

	<center>
	<table><tr><td><h1>Long board</h1></td><td rowspan="2"><img src="pageResource?page=custompage_longboard&location=img/longboard.jpg" width="150" heigth="150" /></td></tr>
		<tr><td style="font-size:0.8em"> <a href="" ng-click="mainctrl.showhistory( ! mainctrl.isshowhistory )">V3.1</a></td></tr>
		<tr><td>
		<div id="showHistory" ng-show="mainctrl.isshowhistory" style="border-width:2px;border-style:ridge;border-color:blue">
		1.0 First version<br>
		1.1 First publication<br>
		1.2 Add Timer in the Case History<br>
		1.3 Add the complete Java environement in the Perforance mesure tool<br>
		1.4 Fix bugs and add a checkox in Performance measure to run the Process test<br>
		1.5 Add checkbox on each test, and allow to start the test for a number of case in parameters<br>
		2.0 New control Monitor and improve the Case History
		2.1 Bonita V7 integration
		2.2 Run in a Living application
		3.0 Case History Retry, Update timer, send message and timer
		3.1 Avoid cache page too strong / display subprocess variable
		</td></tr>
		</div>
	</table>
	</center>
</div>


<div class="col-lg-12">

	<div class="bs-component" ng-mouseenter="hover('apps')" ng-mouseleave="hover('apps')"  ng-controller="ShowHistoryController as histctrl">
		<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Case history</legend>
		<div class="panel panel-primary">
			<div class="panel-body">
			
				<div class="explanation">
				Give a CaseId, and then all it's history is displayed.
				</div>
					
							
				<div class="row">
						<div class="col-lg-3">
						<!--  search info -->
						<table>
							<tr><td>Case Id</td><td> <input type="number" ng-model="histctrl.param.caseId"  /></td></tr>
							<tr><td>Show sub process tasks</td>	<td> <input  type="checkbox" ng-model="histctrl.param.showSubProcess"  /></td></tr>		
							<tr><td colspan="2">
								<table>
									<tr><td>  <div ng-show="histctrl.historyinprogress"><span class="Loading">.</span></div>
									</td><td> <button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xl" title="Show the history of a case" value="Show history">Show</button><p>
									</td></tr>
								</table>						
							</td></tr>
						</table>
					</div>
				
								
					<div class="col-lg-8">
						<!--  search index -->
						<div class="panel panel-info">
							<div class="panel-heading">Search Index</div>
							<div>
								<table class="table table-striped table-hover table-condensed">
									<tr><td>index 1:</td><td><input type="text" ng-model="histctrl.param.search1"></td></tr>
									<tr><td>index 2:</td><td><input type="text" ng-model="histctrl.param.search2"></td></tr>
									<tr><td>index 3:</td><td><input type="text" ng-model="histctrl.param.search2"></td></tr>
									<tr><td>index 4:</td><td><input type="text" ng-model="histctrl.param.search3"></td></tr>
									<tr><td>index 5:</td><td><input type="text" ng-model="histctrl.param.search4"></td></tr>
									<tr><td colspan="2">
										<button ng-click="histctrl.searchByIndex()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xl" title="Search cases by index" >Search</button>
										</td>
									</tr>
									<tr><td colspan="2">
										<table class="table table-striped table-hover table-condensed" style="background-color:#dff0d8">
											<tr>
												<th>CaseID</th>
												<th>Start date</th>
												<th>Process Information</th>
												<th>Index 1</th>
												<th>Index 2</th>
												<th>Index 3</th>
												<th>Index 4</th>
												<th>Index 5</th>
												<th></th>
											</tr>											
											<tr ng-repeat="casesearch in histctrl.searchindexresult track by $index">
												<td>{{casesearch.caseId}}</td>
												<td>{{casesearch.startDateSt}}</td>													
												<td>{{casesearch.processInfo}}</td>	
												<td>{{casesearch.index1}}</td>	
												<td>{{casesearch.index2}}</td>	
												<td>{{casesearch.index3}}</td>	
												<td>{{casesearch.index4}}</td>	
												<td>{{casesearch.index5}}</td>	
												<td>
													<button ng-click="histctrl.param.caseId=casesearch.caseId;histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs" title="Show history" >Show</button>
												</td>
											</tr>
										</table>
									</td>
									</tr>
								</table>	
							</div>
						</div>	
					</div> <!--  end col-lg-4 -->
				</div> <!--  end class=row -->
				<p>
				<div class="alert alert-danger" role="alert" ng-show="histctrl.casehistory.errormessage.length > 0">{{histctrl.casehistory.errormessage}}</div>

					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Overview </h2>
					<table class="table table-striped table-hover table-condensed">
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >Case Id</td>
							<td >{{histctrl.casehistory.caseId}} &nbsp;&nbsp;
								<span ng-show="histctrl.casehistory.archiveCaseId">(Archived Case Id : {{histctrl.casehistory.archiveCaseId}}</span>
							</td>
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >Case State</td><td>{{histctrl.casehistory.caseState}} &nbsp;&nbsp;
							<button ng-click="histctrl.cancelCase()" ng-show="histctrl.casehistory.caseState == 'ACTIF'" class="btn btn-danger btn-xs" >Cancel</button>	
						</td></tr>
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >Start date</td><td>{{histctrl.casehistory.startDateSt}}</td></tr>
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >End date</td><td>{{histctrl.casehistory.endDateSt}}</td></tr>
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >Archive date</td><td>{{histctrl.casehistory.archivedDateSt}}</td></tr>
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >String index</td><td>{{histctrl.casehistory.stringIndex}}</td></tr>
						<tr><td class="tabletitle" style="background-color:#fcf8e3" >Process Definition</td><td>{{histctrl.casehistory.processInfo}}</td></tr>
					</table>
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Synthesis</h2>
						<table class="table table-striped table-hover table-condensed" >
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3" >Begin</th>
							<th class="tabletitle" style="background-color:#fcf8e3" >End</th>
							<th class="tabletitle" style="background-color:#fcf8e3" >Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3" >Type</th>
							<th class="tabletitle" style="background-color:#fcf8e3" >State</th>
							<th class="tabletitle" style="background-color:#fcf8e3" >BeginConnector (ms)</th>
							<th class="tabletitle" style="background-color:#fcf8e3" >User (ms)</th>							
							<th class="tabletitle" style="background-color:#fcf8e3">FinishConnector (ms)</th>
							
						</tr>
						<tr ng-repeat="activitysynthesis in histctrl.casehistory.synthesis track by $index">
							<td>{{activitysynthesis.dateBeginSt}}</td>	
							<td>{{activitysynthesis.dateEndST}}</td>	
							<td>{{activitysynthesis.activityName}}</td>
							<td>{{activitysynthesis.type}}</td>
							<td>{{activitysynthesis.state}}</td>
							<td style="text-align: right">{{activitysynthesis.enterconnector}}</td>
							<td style="text-align: right">{{activitysynthesis.user}}</td>	
							<td style="text-align: right">{{activitysynthesis.finishconnector}}</td>	
							
							<!-- <td>{{activity.expl}}</td>		 -->						
						</tr>
					</table>

					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Actives</h2>
						<table class="table table-striped table-hover table-condensed"> <!--   style="background-color:#dff0d8"> -->
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3">Date</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Id</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Timer ?</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Is Terminal</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Type</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity State</th>
							<th class="tabletitle" style="background-color:#fcf8e3"></th>	
						</tr>
						<tr ng-repeat="activity in histctrl.casehistory.actives track by $index">
							<td>{{activity.humanActivityDateSt}}</td>	
							<td>{{activity.activityName}}</td>
							<td>{{activity.activityIdDesc}}</td>
							<td>{{activity.jobIsStillSchedule}}</td>
							<td>{{activity.isTerminal}}</td>
							<td>{{activity.type}}</td>
							<td>{{activity.state}}</td>
							<td>
								<button ng-click="histctrl.executeActivity(activity)" ng-show="activity.ACTIONEXECUTE === true" class="btn btn-warning btn-xs" >Execute</button>
								<div ng-bind-html="histctrl.getListEvents(activity.listevents )"></div>
								<div class="label label-info">{{activity.statusexecution}}</div>
							</td>
							
						</tr>
					</table>

					
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Activities</h2>
					See <a href="http://documentation.bonitasoft.com/execution-sequence-states-and-transactions">Documentation</a> for more information on states
					<input type="checkbox" ng-model="histctrl.showFlowdefnodeid">Show FlowNodeDefid
					<input type="checkbox" ng-model="histctrl.showParentContainer">Show Parent Container
					<input type="checkbox" ng-model="histctrl.showParentactivityid">Show Parent Activity
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3">Date</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Id</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Perimeter</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Timer ?</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Terminal ?</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Type</th>
							<th class="tabletitle" style="background-color:#fcf8e3">State</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Executed By</th>	
							<th class="tabletitle" style="background-color:#fcf8e3" ng-show="histctrl.showFlowdefnodeid" >FlownodeDefId</th>	
							<th class="tabletitle" style="background-color:#fcf8e3" ng-show="histctrl.showParentContainer" >ParentContainer</th>
							<th class="tabletitle" style="background-color:#fcf8e3" ng-show="histctrl.showParentactivityid">parentactivityid</th>							
						</tr>
						<tr ng-repeat="activity in histctrl.casehistory.activities track by $index">
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.humanActivityDateSt}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.activityName}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.activityIdDesc}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.perimeter}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.jobIsStillSchedule}} {{activity.jobScheduleDate}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.isTerminal}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.type}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.state}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}">{{activity.executedby}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}" ng-show="histctrl.showFlowdefnodeid"   >{{activity.FlownodeDefId}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}" ng-show="histctrl.showParentContainer" >{{activity.parentcontainer}}</td>
							<td style="{{histctrl.getStyleActivity(activity)}}"  ng-show="histctrl.showParentactivityid">{{activity.parentactivityid}}</td>
							<!-- <td>{{activity.expl}}</td> -->
						</tr>
					</table>
					
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Timers</h2>
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<!-- <th>JobName</th> -->
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Id</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Schedule</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Date</th>						
							<th class="tabletitle" style="background-color:#fcf8e3"></th>
						
						</tr>
						<tr ng-repeat="scheduletimer in histctrl.casehistory.timers track by $index">
							<!--  <td>{{scheduletimer.jobName}}</td> -->
							<td>{{scheduletimer.activityName}}</td>
							<td>{{scheduletimer.activityIdDesc}}</td>
							<td>{{scheduletimer.jobIsStillSchedule}}</td>
							<td>{{scheduletimer.timerDate}}</td>
							<td> 
								<table>
									<tr><td>
										<button ng-click="scheduletimer.updatetype='DELAY'; scheduletimer.updatevalue='0';histctrl.updateTimer( scheduletimer )" class="btn btn-warning btn-xs" >Immediat</button>	
										<select ng-model="scheduletimer.updatetype">
												<option value="DELAY" selected>Delay</option>
												<option value="DATE">Date</option>									
											</select>
										</td><td>
											<div ng-show="scheduletimer.updatetype == 'DELAY'">Delay (in secondes)</div>
											<div ng-show="scheduletimer.updatetype == 'DATE'">Date (format yyyy-mm-dd HH24:MM:ss)</div>
										</td><td>
											<input ng-model="scheduletimer.updatevalue" />
										</td><td>
											<button ng-click="histctrl.updateTimer( scheduletimer )" class="btn btn-warning btn-xs" >Update</button>	
										</td>
									</tr>
									<tr><td colspan="4">
										<div ng-bind-html="histctrl.getListEvents(scheduletimer.listevents )"></div>
										<div class="label label-info">{{scheduletimer.statusexecution}}</div>
									</td></tr>
								</table>
							</td>
								
						</tr>
					</table>
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Signals</h2>
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<!-- <th>JobName</th> -->
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Signal</th>
							<th class="tabletitle" style="background-color:#fcf8e3"></th>
						
						</tr>
						<tr ng-repeat="signal in histctrl.casehistory.signals track by $index">
							<td>{{signal.activityName}}</td>
							<td>{{signal.signalName}}</td>
							<td> <div ng-show="histctrl.historyinprogress"><span class="Loading">.</span></div> <button ng-click="histctrl.sendSignal( signal )" class="btn btn-warning btn-xs" ng-disabled="histctrl.historyinprogress">Send signal</button><p>
							<div ng-bind-html="histctrl.getListEvents(signal.listevents )"></div>
							
							<span class="explanation">Attention, a signal will unlock all tasks waiting on this signal</span>  
							</td>
						</tr>	
					</table>
					
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Messages</h2>
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3">Activity Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Message name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Correlation</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Content</th>
						
						</tr>
						<tbody ng-repeat="message in histctrl.casehistory.messages track by $index">
						<tr>
							<td>{{message.activityName}}</td>
							<td>{{message.messageName}}</td>
							<td>
								<table >
									<tr  ng-repeat="corr in message.correlations track by $index">
										<td style="border: 1px solid black">{{corr.msgVarName}}</td>
										<td style="border: 1px solid black"><span title="{{corr.corrDefinition}}">{{corr.msgVarValue}}</span></td>									
									</tr>
								</table>
							</td>
							<td>
								<table  class="border:1px">
									<tr  ng-repeat="content in message.contents track by $index">
										<td style="border: 1px solid black">{{content.msgVarName}}</td>
										<td style="border: 1px solid black"><input type="text" ng-model="content.msgVarValue"></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<td colspan="2">
							</td>
							<td colspan="2">
							<div ng-show="histctrl.historyinprogress"><span class="Loading">.</span></div>
							<button ng-click="histctrl.sendMessage( histctrl.casehistory, message )" class="btn btn-warning btn-xs" ng-disabled="histctrl.historyinprogress">Send message</button>
							<div ng-bind-html="histctrl.getListEvents(message.listevents )"></div>
							</td>
						</tr>
						</tbody>
					</table>
					
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Time Line</h2>
					<!-- style="{{performancemesureCssStyle}}" -->
					<div google-chart chart="chartTimeline" id="chartTimeline" style="height: 400px; width: 100%; position: relative; "></div>
			
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Variables</h2>
					<input  type="checkbox" ng-model="histctrl.param.showArchivedData"  />Show Archived data &nbsp;&nbsp;&nbsp;
					<input  type="checkbox" ng-model="histctrl.param.showProcessData"  />Show Process data &nbsp;&nbsp;&nbsp;
					<input  type="checkbox" ng-model="histctrl.param.showLocalData"  />Show Local data &nbsp;&nbsp;&nbsp;
					<input  type="checkbox" ng-model="histctrl.param.showBdmData"  />Show BDM data &nbsp;&nbsp;&nbsp;
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3" ng-show="histctrl.param.showSubProcess">Process</th>
							<th class="tabletitle" style="background-color:#fcf8e3" ng-show="histctrl.param.showSubProcess">Version</th>
							<th class="tabletitle" style="background-color:#fcf8e3" ng-show="histctrl.param.showSubProcess">Process id</th>	
							<th class="tabletitle" style="background-color:#fcf8e3">Context</th>	
							<th class="tabletitle" style="background-color:#fcf8e3">Scope</th>						
							<th class="tabletitle" style="background-color:#fcf8e3">Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Description</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Value</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Type</th>	
							<th class="tabletitle" style="background-color:#fcf8e3">Archived</th>	
							<th class="tabletitle" style="background-color:#fcf8e3">Date</th>	
						</tr>
						<tbody ng-repeat="variable in histctrl.casehistory.variables track by $index">
						<tr ng-show="histctrl.isShowVariable(variable)">
							<td ng-show="histctrl.param.showSubProcess" style="{{histctrl.getStyleActif(variable)}}">{{variable.processname}}</td>
							<td ng-show="histctrl.param.showSubProcess" style="{{histctrl.getStyleActif(variable)}}">{{variable.processversion}}</td>
							<td ng-show="histctrl.param.showSubProcess" style="{{histctrl.getStyleActif(variable)}}">{{variable.processinstance}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.contextinfo}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.scope}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.name}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.description}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.value}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.type}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.status}}</td>
							<td style="{{histctrl.getStyleActif(variable)}}">{{variable.datearchived | date:'medium' }}</td>
						</tr>
						</tbody>
					</table>
					
					<!--  processinstance -->
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Process Instances</h2>
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3">Process Instance</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Process Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Process Version</th>
							
							<th class="tabletitle" style="background-color:#fcf8e3">Parent Activity</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Parent processInstance</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Parent process name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Parent process version</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Status</th>
						</tr>
							
						<tr ng-repeat="processintance in histctrl.casehistory.processintances track by $index">
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.id}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.processname}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.processversion}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.parentact}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.parentid}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.parentprocessname}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.parentprocessversion}}</td>
							<td style="{{histctrl.getStyleActif(processintance)}}">{{processintance.status}}</td>
						</tr>
					</table>
												
					<h2><button ng-click="histctrl.showcasehistory()" ng-disabled="histctrl.historyinprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></span></button>Documents</h2>
					<table class="table table-striped table-hover table-condensed">
						<tr>
							<th class="tabletitle" style="background-color:#fcf8e3">Document Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Id</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Content ?</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Index</th>	
							<th class="tabletitle" style="background-color:#fcf8e3">StorageId</th>													
							<th class="tabletitle" style="background-color:#fcf8e3">Url</th>						
							<th class="tabletitle" style="background-color:#fcf8e3">Creation date</th>
							<th class="tabletitle" style="background-color:#fcf8e3">File Name</th>
							<th class="tabletitle" style="background-color:#fcf8e3">Mime type</th>						
						</tr>
						<tr ng-repeat="document in histctrl.casehistory.documents track by $index">
							<td>{{document.name}}</td>
							<td>{{document.id}}</td>
							<td>{{document.hascontent}}</td>
							<td>{{document.docindex}}</td>
							<td>{{document.contentstorageid}}</td>
							<td><a href="/bonita/portal/{{document.url}}" target="blanck">{{document.url}}</a></td>
							<td>{{document.creationdate}}</td>
							<td>{{document.contentfilename}}</td>
							<td>{{document.contentmimetype}}</td>
						</tr>
					</table>
					
				</div>
			</div>
		</div>
	</div> <!--  end caseHistory -->

	<!-- process monitor -->
	<div class="col-lg-12">
		<div class="bs-component" ng-mouseenter="hover('apps')" ng-mouseleave="hover('apps')"  ng-controller="MonitorProcessController as moniprocessesctrl">
			<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Monitor process</legend>
			
			<div class="panel panel-primary">
				<div class="panel-body">
					<div class="explanation">
					Display all processes
					</div>
					
					<table>							
						<tr><td>  <div ng-show="moniprocessesctrl.inprogress"><span class="Loading">.</span></div>
						</td><td> <button  ng-click="moniprocessesctrl.refresh()" ng-disabled="moniprocessesctrl.inprogress" class="btn btn-info btn-xs" title="Show the processes and cases"/>Show Processes/cases</button><p>						
						</td>
						</tr>
					</table>
					<div class="alert alert-danger" role="alert" ng-show="moniprocessesctrl.errormessage.length > 0">{{moniprocessesctrl.errormessage}}</div>
					
					<a href="" ng-click="moniprocessesctrl.showlegend( ! moniprocessesctrl.isshowlegend )">Legend</a>
					<div id="showLegend" ng-show="moniprocessesctrl.isshowlegend" style="border-width:2px;border-style:ridge;border-color:blue">
						<li>Details: show or hide the detail activity per activity<br>
						<li>Name: Process name
						<li>Version: Process version
						<li>State: State of process
						<li>Deployed Date: date of deployment
						<li>Cases: number open cases
						<li>Analysis: result of the analysis. Take into account the different level "warmoverflowtasks", "warnearbytasks", "warmtask"<br> 
						   For exemple, give as DESCRIPTION in the process warmoverflowtasks:45;warnearbytasks=22;warmtask=3000
						<li>Tasks: number of open tasks (one case may have multiple tasks)
						<li>Overflow: number of <b>human tasks</b> who exceded the time allowed to work on<br>
						            Example, in the task, design show the task must be managed in 5 hours, and this is the number of task waiting more than 5 hours
						<li>Near: number of <b>human tasks</b> which will be overflow in the next hour<b>
					</div>
					<h2>Processes</h2>
						Overflow: <input  type="text" ng-model="moniprocessesctrl.defaultWarningNbOverflowTasks" style="width:40px;" />
						Near: <input  type="text" ng-model="moniprocessesctrl.defaultWarningNearbyTasks" style="width:40px;"/>
						Task: <input  type="text" ng-model="moniprocessesctrl.defaultWarningNbTasks" style="width:40px;"/>
						ActiviyPastInMn: <input  type="text" ng-model="moniprocessesctrl.activityPeriodInMn" style="width:40px;"/>
						Max Items: <input  type="text" ng-model="moniprocessesctrl.defaultmaxitems" style="width:80px;"/>
						Study past activity: <input  type="checkbox" ng-model="moniprocessesctrl.studypastactivities" style="width:80px;"/>
						
						<br>
						<!-- <table class="table table-striped table-hover table-condensed" style="background-color:#C49E71"> -->
						<table class="table table-striped table-hover table-condensed">
						<tr style="background-color:#007DB3">
							<th>Details</th>
							<th>Name</th>
							<th>Version</th>
							<th>State</th>
							<th>Deployed date</th>
							<th>Cases</th>							
							<th>Analysis</th>
							<th>Tasks</th>
							<th>Overflow</th>
							<th>Near</th>
							<th>Failed</th>
							<th>Executing</th>
							<th>Activity</th>							
							<th>Analysis in (ms)</th>
						</tr>
						
						<tbody ng-repeat="oneprocess in moniprocessesctrl.processes track by $index">
							<tr style="background-color:#C49E71">
								<td><input type="checkbox" ng-model="oneprocess.showdetails" />Details</td>
								<td>{{oneprocess.name}}</td>
								<td>{{oneprocess.version}}</td>
								<td>{{oneprocess.state}}</td>
								<td>{{oneprocess.deployedDate}}</td>
								<td>{{oneprocess.nbCases}}</td>
								<td>
									<span class="label label-warning" ng-show="oneprocess.shownearbywarning">Warning</span>&nbsp;
									<span class="label label-danger" ng-show="oneprocess.showoverflowwarning">Overflow</span>&nbsp;
									<span class="label label-danger" ng-show="oneprocess.showtaskswarning">Tasks</span>&nbsp;
									<span class="label label-danger" ng-show="oneprocess.showtasksfailed">Failed</span>&nbsp;
									<span class="label label-danger" ng-show="oneprocess.showerrormaxitems">Max Item</span>&nbsp;
									
									
									<!-- {{oneprocess.analysisStatus}} -->
								</td>
								<td>{{oneprocess.nbTasks}}</td>
								<td>{{oneprocess.nbOverflowTasks}}</td>
								<td>{{oneprocess.nbNearbyTasks}}</td>
								<td>{{oneprocess.nbFailedTasks}}</td>
								<td>{{oneprocess.nbExecutingTasks}}</td>
								<td>{{oneprocess.nbActivitiesPeriod}}</td>
								<td>{{oneprocess.timeAnalysisMs}}</td>
							</tr>
								<tr style="background-color:#99D9EA" ng-show="oneprocess.showdetails">
									<td></td>
									<td><i>ActivityName</i></td>								
									<td></td> <td></td> <td></td> <td></td> <td></td>									
									<td><i>Tasks</i></td>
									<td><i>Overflow</i></td>
									<td><i>Near</i></td>
									<td><i>Failed</i></td>
									<td><i>Executing</i></td>
									<td><i>Activity</i></td>
									<td><i>TimeAnalysis</i></td>
									
								</tr>
								<tr ng-repeat="activity in oneprocess.activities track by $index" ng-show="oneprocess.showdetails">
									<td></td>
									<td>{{activity.name}}</td>
									<td></td> <td></td> <td></td> <td></td> 
									<td>
										<span class="label label-warning" ng-show="activity.shownearbywarning">Warning {{activity.nbNearbyTasks}}</span>&nbsp;
										<span class="label label-danger" ng-show="activity.showoverflowwarning">Overflow {{activity.nbOverflowTasks}} </span>&nbsp;
										<span class="label label-danger" ng-show="activity.showtaskswarning">Tasks {{activity.nbTasks}} </span>&nbsp;
										<span class="label label-danger" ng-show="activity.showtasksfailed">Failed</span>&nbsp;
										<span class="label label-danger" ng-show="activity.showerrormaxitems">Max Item</span>&nbsp;

									</td>
									<!-- <td>{{activity.id}}</td> -->
									<td>{{activity.nbTasks}}</td>							
									<td>{{activity.nbOverflowTasks}}
									  
									</td>							
									<td>{{activity.nbNearbyTasks}}</td>							
									<td>{{activity.nbFailedTasks}}</td>							
									<td>{{activity.nbExecutingTasks}}</td>							
									<td>{{activity.nbActivitiesPeriod}}</td>							
									<td>{{activity.timeAnalysisMs}}</td>
									
								</tr>
								
								<tr ng-repeat="graph in oneprocess.processgraph track by $index" ng-show="oneprocess.showdetails">
									<td></td>
									<td colspan="4">

										<div google-chart chart="graph.createcase" style="height: 200px; width: 100%; position: relative; "></div>
									</td>
								</tr>
								
								
						</tbody>
					</table>
					{{moniprocessesctrl.status}}
				
				</div>
			</div>
		</div>
	</div>


	<div>
		<div class="bs-component"  ng-controller="TimeTrackerController as timetrackerctrl">
		<div class="col-lg-12">
			<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Connector</legend>
			<div class="panel panel-primary">
				<div class="explanation">
				Performance information on connector.
				</div>
				
				<div class="alert alert-danger" role="alert" ng-show="timetrackerctrl.errormessage.length > 0">{{timetrackerctrl.errormessage}}</div>
				<!-- <span style="color:red">{{timetrackerctrl.errormessage}}</span>-->
				
				
				<div ng-show="! timetrackerctrl.isinit()">
					Refresh first
				</div>
				<div ng-show="timetrackerctrl.isinit() && ! timetrackerctrl.isstarted()">
					<table>
						<tr>
							<td><img src="pageResource?page=custompage_longboard&location=img/stop.gif">
							</td><td><h4><i>Inactive</i></h4></td>
							<td colspan="2">	
								<button  ng-click="timetrackerctrl.runService( true )" ng-disabled="timetrackerctrl.inprogress" class="btn btn-danger btn-xs">Start recording</button>
							</td>
						</tr>
					</table>
				</div>
				<div ng-show="timetrackerctrl.isinit() && timetrackerctrl.isstarted()">
					<table>
						<tr>
							<td><img src="pageResource?page=custompage_longboard&location=img/start.gif">
							</td><td><h4><i>Active</i></h4></td>						
							<td colspan="2">	
								<button  ng-click="timetrackerctrl.runService( false )" ng-disabled="timetrackerctrl.inprogress" class="btn btn-info btn-xs">Stop Recording</button>
							</td>
						</tr>
					</table>	
				</div>
				<div class="well"  ng-show="timetrackerctrl.msg.length>0 && timetrackerctrl.startedmsg.length>0">{{timetrackerctrl.msg}} {{timetrackerctrl.startedmsg}}</div>
				{{timetrackerctrl.information}}
				
				<table>
					<tr><td>  <div ng-show="timetrackerctrl.inprogress"><span class="Loading">.</span></div>
						</td><td>
							<!-- Simulation ? <input type="checkbox" ng-model="timetrackerctrl.issimulation"> &nbsp; -->
						 <button ng-click="timetrackerctrl.refresh()" ng-disabled="timetrackerctrl.inprogress" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh"></button>
						</td>
					</tr>
				</table>
				
				
				<h3>
				<a href="#" ng-click="timetrackerctrl.showAllInfo = ! timetrackerctrl.showAllInfo" style="text-decoration:none">					
			  				<span ng-show="timetrackerctrl.showAllInfo" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
	  				</a>
					<a href="#" ng-click="timetrackerctrl.showAllInfo = ! timetrackerctrl.showrange" style="text-decoration:none">					
						<span ng-show="! timetrackerctrl.showAllInfo" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
					</a>All informations</h3>
				Show Detail informations ? 
				<input type="checkbox" ng-model="timetrackerctrl.showdetaildescriptionallinformations"><p>
				<div ng-show="timetrackerctrl.showAllInfo">
					<table class="table table-striped table-hover table-condensed"> <!-- style="background-color:#C49E71"> -->
						<tr>
							<th>#</th>
							<th>timestamp</th>
							<th>duration</th>
							<th>CaseId</th>							
							<th>Process</th>
							<th>Name</th>
							<th ng-show="timetrackerctrl.showdetaildescriptionallinformations">description</th>
						</tr>
						<tr ng-repeat="record in timetrackerctrl.getPageResult() track by $index" >
							<td>{{record.range}}</td>
							<td>{{record.timestampUser}}</td>
							<td>{{record.duration}}</td>
							<td>{{record.pid}}</td>
							<td>{{record.pdefname}} ( {{record.pdefver}} )</td>
							<td>{{record.shortname}}</td>
							<td>{{record.connName}}</td>
							<td ng-show="timetrackerctrl.showdetaildescriptionallinformations">{{record.description}}</td>
						</tr>
					</table>
					
					<table>
					<tr>
						<td>Nb lines per pages : 
							<select ng-model="timetrackerctrl.display.numberperpage" ng-change="timetrackerctrl.refresh()">						
								<option value="20">20</option>
								<option value="100">100</option>
								<option value="500">500</option>
							</select>
							&nbsp;
						</td><td>
							<pagination ng-model="timetrackerctrl.display.pagenumber" 
								total-items="timetrackerctrl.display.totallines" 
								items-per-page="timetrackerctrl.display.numberperpage"
							ng-click="timetrackerctrl.refresh()">
							</pagination>	
						</td>
					</tr>
					</table>
					
				</div>
				<h3>Top 10 long running</h1>
					<input type="checkbox" ng-model="timetrackerctrl.showdetaildescriptiontop10">Details operation<p>
					<table class="table table-striped table-hover table-condensed"> <!--  style="background-color:#C49E71"> -->
						<tr>
							<th>#</th>
							<th>timestamp</th>
							<th>duration</th>
							<th>CaseId</th>							
							<th>Process</th>
							<th>Name</th>
						
						</tr>
						<tbody ng-repeat="record in timetrackerctrl.top10informations track by $index">
							<tr >
								<td>{{record.range}}</td>
								<td>{{record.timestampUser}}</td>
								<td>{{record.duration}}</td>
								<td>{{record.pid}}</td>
								<td>{{record.pdefname}} ( {{record.pdefver}} )</td>
								<td>{{record.shortname}}</td>
								<td>{{record.connName}}</td>
						
							</tr>
							<tr ng-show="timetrackerctrl.showdetaildescriptiontop10">
								<td ></td>
								<td colspan="6" >{{record.description}}</td>
							</tr>
							<tr ng-show="timetrackerctrl.showdetaildescriptiontop10">
								<td colspan="6"></td>
							</tr>
						</tbody>
				</table>
				<h1>Range information</h1>
				
				<table>	
				<tr>
				<td><input type="checkbox" ng-model="timetrackerctrl.showrangeDuration" ng-change="timetrackerctrl.refresh()">Duration</td>
				<td><input type="checkbox" ng-model="timetrackerctrl.showrangeMaximum" ng-change="timetrackerctrl.refresh()">Maximum</td>
				<td><select ng-model="timetrackerctrl.rangedisplayinhour" ng-change="timetrackerctrl.refresh()">
					<option value="1">1 hour</option>
					<option value="2">2 hour</option>
					<option value="10">10 hour</option>
					<option value="24">1 day</option>
					<option value="48">2 day</option>
				</select>
				</td>
				<td> <div ng-show="timetrackerctrl.inprogress"><span class="Loading">.</span></div></td>
				</tr>
				</table>
				<!-- <div google-chart chart="chartRange" style="height: 300px; width: 100%; position: relative; "></div> -->
				<!--			<div google-chart chart="chartRepartitionConnector" style="height: 200px; width: 50%; position: relative; "></div> -->
				<!--		<div google-chart chart="chartRepartitionWork" style="height: 200px; width: 50%; position: relative; "></div> -->
				
				<table width="100%">
					<tr><td colspan="2">
						<div google-chart chart="chartRange" style="height: 300px; width: 100%; position: relative; "></div>
					</tr><tr>
						<td width="50%">
							<div google-chart chart="chartRepartitionConnector" style="height: 200px; width: 100%; position: relative; "></div>
						</td><td width="50%">
							<div google-chart chart="chartRepartitionWork" style="height: 200px; width: 100%; position: relative; "></div>
						</td>
					</tr>
				</table>
				
					<a href="#" ng-click="timetrackerctrl.showrange = ! timetrackerctrl.showrange" style="text-decoration:none">					
			  				<span ng-show="timetrackerctrl.showrange" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
	  				</a>
					<a href="#" ng-click="timetrackerctrl.showrange = ! timetrackerctrl.showrange" style="text-decoration:none">					
						<span ng-show="! timetrackerctrl.showrange" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
					</a>Details
				<table class="table table-striped table-hover table-condensed" ng-show="timetrackerctrl.showrange"> <!-- style="background-color:#C49E71"> -->
						<tr>
							<th>Range</th>
							<th>Nb Execution</th>
							<th>Average duration (ms)</th>
							<th>Sum duration (ms)</th>
							<th>Maximum duration (ms)</th>
							<th>Details</th>
						</tr>
						<tr ng-repeat="rangerecord in timetrackerctrl.rangeinformations track by $index">
							<td>{{rangerecord.date}}</td>
							<td>{{rangerecord.nbExecution}}</td>
							<td>{{rangerecord.avgDuration}}</td>
							<td>{{rangerecord.sumDuration}}</td>
							<td>{{rangerecord.maxDuration}}</td>
							<td>{{rangerecord.details}}</td>							
						</tr>
				</table>
				
				<table>
					<tr><td>  <div ng-show="timetrackerctrl.inprogress"><span class="Loading">.</span></div>
						</td><td> <button ng-click="timetrackerctrl.refresh()" ng-disabled="timetrackerctrl.inprogress" class="btn btn-info btn-xs">Refresh</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
				
	</div>
	
	
	
	<div class="col-lg-5">
		<div class="bs-component"  ng-controller="MonitoringController as monictrl">
			<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Informations</legend>
			<div class="panel panel-primary">
				<div class="explanation">
				Different informations form the system are retrieved.
				</div>
				<table>
				<tr><td>  <div ng-show="monictrl.inprogress"><span class="Loading">.</span></div>
				</td><td>
					<button ng-click="monictrl.refresh()" ng-disabled="monictrl.inprogress" class="btn btn-info btn-xs">Collect informations</button>
				</td>
				</tr>
				</table>
				
				
				
				<div class="alert alert-danger" role="alert" ng-show="monictrl.errormessage.length > 0">{{monictrl.errormessage}}</div>
				
				<table class="table table-striped table-hover table-condensed">
					
					<tr> <td colspan="2" style="background-color:#C49E71">Java machine</td></tr>
					<tr> <td>Available Processor</td><td>{{monictrl.AvailableProcessor}}</td></tr>					
					<tr> <td>Jvm Name</td><td>{{monictrl.JvmName}}</td></tr>
					<tr> <td>JvmSystemProperties</td><td>
				
					 <div ng-show="! monictrl.isshowjvmsystemproperties">
						<button id="showbtn" ng-click="monictrl.showjvmsystemproperties( true )" class="btn btn-info btn-xs">Show</button>
					</div>
					 <div  ng-show="monictrl.isshowjvmsystemproperties">
						<button id="hidebtn" ng-click="monictrl.showjvmsystemproperties( false )" class="btn btn-info btn-xs">Hide</button>
						<textarea readonly rows="30" cols="80">{{monictrl.JvmSystemProperties}}</textarea>
					</div>
					</td></tr>
					<tr> <td>JvmArgs</td><td>
					 <div ng-show="! monictrl.isSowJvmArgs">
						<button id="showbtn" ng-click="monictrl.showJvmArgs( true )" class="btn btn-info btn-xs">Show</button>
					</div>
					 <div  ng-show="monictrl.isSowJvmArgs">
						<button id="hidebtn" ng-click="monictrl.showJvmArgs( false )" class="btn btn-info btn-xs">Hide</button>
						<textarea readonly rows="30" cols="80">{{monictrl.JVMArgs}}</textarea>
					</div>
					
					
					
					</td></tr>
					<tr> <td>Jvm Vendor</td><td>{{monictrl.JvmVendor}}</td></tr>
					<tr> <td>Jvm Version</td><td>{{monictrl.JvmVersion}}</td></tr>
					<tr> <td>OS Name</td><td>{{monictrl.OSName}}</td></tr>
					<tr> <td>OS Arch</td><td>{{monictrl.OSArch}}</td></tr>
					<tr> <td>OS Version</td><td>{{monictrl.OSVersion}}</td></tr>
			
					<tr> <td colspan="2" style="background-color:#C49E71">Memory</td></tr>
					<tr> <td>Free Memory</td><td>{{monictrl.JavaFreeMemory}} Mo</td></tr>
					<tr> <td>Total Memory</td><td>{{monictrl.JavaTotalMemory}} Mo</td></tr>
					<tr> <td>Used Memory</td><td>{{monictrl.JavaUsedMemory}} Mo</td></tr>
					<tr> <td>Usage</td><td style="float: right;">{{monictrl.MemUsage}} Mo</td></tr>
					<tr> <td>Free</td><td style="float: right;">{{monictrl.MemFree}} bytes</td></tr>
					<tr> <td>Free Swap</td><td style="float: right;">{{monictrl.MemFreeSwap}} bytes</td></tr>
					<tr> <td>Usage Percentage</td><td style="float: right;">{{monictrl.MemUsagePercentage}} %</td></tr>
					<tr> <td>Total Physical Memory</td><td style="float: right;">{{monictrl.MemTotalPhysicalMemory}} bytes</td></tr>
					<tr> <td>Total Swap Space</td><td style="float: right;">{{monictrl.MemTotalSwapSpace}} bytes</td></tr>
					<tr> <td>LastGCInfo</td><td>{{monictrl.LastGCInfo}}</td></tr>

					<tr> <td colspan="2" style="background-color:#C49E71">Bonita engine</td></tr>
					<tr> <td>Number Active Transaction</td><td>{{monictrl.NumberActiveTransaction}}</td></tr>
					<tr> <td>Process CPU Time</td><td>{{monictrl.ProcessCPUTime}} na</td></tr>
					<tr> <td>Start Time</td><td>{{monictrl.StartTimeHuman}}</td></tr>
					<tr> <td>Load Average Last Mn</td><td>{{monictrl.LoadAverageLastMn}}</td></tr>
					<tr> <td>Thread Count</td><td>{{monictrl.ThreadCount}}</td></tr>
					<tr> <td>Total Threads Cpu Time</td><td>{{monictrl.TotalThreadsCpuTime}} ms</td></tr>
					<tr> <td>Up Time</td><td>{{monictrl.UpTime}}</td></tr>
					<tr> <td>Commited Virtual Memory Size</td><td>{{monictrl.CommitedVirtualMemorySize}}</td></tr>					
					<tr> <td>Scheduler Started</td><td>{{monictrl.IsSchedulerStarted}}</td></tr>		
		
					
					<tr> <td colspan="2" style="background-color:#C49E71">Database</td></tr>					
					<tr> <td>Product name</td><td>{{monictrl.DatabaseProductName}}</td></tr>
					<tr> <td>Product version</td><td>{{monictrl.DatabaseProductVersion}}</td></tr>
					<tr> <td>Major version</td><td>{{monictrl.DatabaseMajorVersion}}</td></tr>
					<tr> <td>Minor version</td><td>{{monictrl.DatabaseMinorVersion}}</td></tr>
				</table>
			</div>
		</div>
	</div>
	
	<div class="col-lg-5">
		<div class="bs-component" ng-controller="ServerParamController as serverparamctrl">
			<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Main Server Parameters</legend>
			<div class="panel panel-primary">
				<div class="explanation">
				Parameters on the server. All amazing parameters you look for, and you never know where they are !
				</div>
				
				<table>
				<tr><td>  <div ng-show="serverparamctrl.inprogress"><span class="Loading">.</span></div>
				</td><td>
					<button ng-click="serverparamctrl.refresh()" ng-disabled="serverparamctrl.inprogress" class="btn btn-info btn-xs">Collect informations</button>
				</td>
				</tr>
				</table>

				<div class="alert alert-danger" role="alert" ng-show="serverparamctrl.errormessage.length > 0">{{serverparamctrl.errormessage}}</div>
			
				<table class="table table-striped table-hover table-condensed">
					<tr> <td colspan="2" style="background-color:#C49E71">Custom Page</td></tr>
					<tr> <td>Debug mode : </td><td>{{serverparamctrl.CustompageDebug}}</td></tr>
					<tr> <td colspan="2" class="explanation">Property <i>custom.page.debug</i> in Configuration file <i>&lt;BONITA_HOME&gt;/client/tenants/1/conf/console-config.properties</i> <br>and <i> &lt;BONITA_HOME&gt;/client/platform/tenant-template/conf/console-config.properties</i></td></tr>
					
					<tr> <td colspan="2" style="background-color:#C49E71">Search</td></tr>
					<tr> <td>Word mode : </td><td>{{serverparamctrl.PersistencehibernateEnableWordSearch}}</td></tr>
					<tr> <td colspan="2"class="explanation">Property <i>enableWordSearch</i> in Configuration file <i>&lt;BONITA_HOME&gt;/Server/platform/conf/services/cfg-bonita-persistence-hibernate.xml</i></td></tr>
				</table>
			</div>
		</div>
	</div>
	
	<div class="bs-component" ng-mouseenter="hover('apps')" ng-mouseleave="hover('apps')" ng-controller="PerformanceController as perfctrl">
		<div class="col-lg-5" id="performancemesure">
			<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Performance Measure</legend>
			<div class="panel panel-primary">
			  <div class="explanation">
				This page mesure the performance of your system, and give you back an indice. Base 1 is a Window 7 / 2 Cores Intel 5 based / H2 database<p>
				If the number is LOWER than 1, that's mean the machine is SLOWER than the reference machine. UPPER, the machine is faster.
			  </div>
				
				<label>Test parameters</label><br>
				
				<input type="checkbox"  ng-model="perfctrl.runbonitahometest" title="If checked, a file is write / read in the directory temp to check the speed on the disk">
				BonitaHome read/write<br>
				
				<input type="checkbox"  ng-model="perfctrl.rundatabasetest" title="If checked, some basic operation is done in the database to check the access">
				Database test<br>
				
				<input type="checkbox"  ng-model="perfctrl.runprocesstest" title="If checked, a process 'LongBoardTestPerformance' is created and deployed by the custom page. 100 instances is created in this process">
				Process Deploy / Process Create / Process Run for 
				<input type="text"  ng-model="perfctrl.runprocesstestnumber" title="Number of instance to create. Default is 100" size="6">
				cases<br>
				
				<table>
					<tr><td>  <div ng-show="perfctrl.inprogress"><span class="Loading">.</span></div>
					</td><td><button  ng-click="perfctrl.runtest()" ng-disabled="perfctrl.inprogress" class="btn btn-info btn-xs">Run test</button>
					</td>
					</tr>
				</table>
				
				
				<div class="alert alert-danger" role="alert" ng-show="perfctrl.errormessage.length > 0">{{perfctrl.errormessage}}</div>
			
				<table class="table table-striped table-hover table-condensed">
					<tr>
						<th>Measure</th>
						<th>Time (ms)</th>
						<th>Factor</th>
						<th>Base</th>
					</tr>
					<tr> <td>Directory read</td><td>{{perfctrl.BonitaHomeReadMS}} ms </td><td>{{perfctrl.BonitaHomeReadFACTOR}}</td><td>{{perfctrl.BonitaHomeReadBASE}} ms (base)</td></tr>
					<tr> <td>Directory write</td><td>{{perfctrl.BonitaHomeWriteMS}} ms</td><td>{{perfctrl.BonitaHomeWriteFACTOR}}</td><td>{{perfctrl.BonitaHomeWriteBASE}} ms (base)</td></tr>
					<tr> <td>Database Meta</td><td>{{perfctrl.DataMetaBASE}} ms</td><td>{{perfctrl.DataMetaFACTOR}}</td><td>{{perfctrl.DataMetaBASE}} ms (base)</td></tr>
					<tr> <td>Database access</td><td>{{perfctrl.DatabaseMS}} ms</td><td>{{perfctrl.DatabaseFACTOR}}</td><td>{{perfctrl.DatabaseBASE}} ms (base)</td></tr>
					<tr> <td>Process Deploy</td><td>{{perfctrl.ProcessDeployMS}} ms</td><td>{{perfctrl.ProcessDeployFACTOR}}</td><td>{{perfctrl.ProcessDeployBASE}} ms (base)</td></tr>
					<tr> <td>Process Create</td><td>{{perfctrl.ProcessCreateMS}} ms</td><td>{{perfctrl.ProcessCreateFACTOR}}</td><td>{{perfctrl.ProcessCreateBASE}} ms (base)</td></tr>
					<tr> <td>Process Run</td><td>{{perfctrl.ProcessRunMS}} ms</td><td>{{perfctrl.ProcessRunFACTOR}}</td><td>{{perfctrl.ProcessRunBASE}} ms (base)</td></tr>
					
					
				</table>
		
				<!-- style="{{performancemesureCssStyle}}" -->
				<div google-chart chart="chartObject" style="height: 400px; width: 100%; position: relative; "></div>
			</div>
			
		</div>
	</div>
	
		
		

</div>



<!-- Third party dependencies -->

<script src="pageResource?page=custompage_longboard&location=3rd-party/jquery.min.js"></script>

<script src="pageResource?page=custompage_longboard&location=3rd-party/angular.min.js"></script>

<script src="pageResource?page=custompage_longboard&location=3rd-party/angular-resource.min.js"></script>
<script src="pageResource?page=custompage_longboard&location=3rd-party/angular-cookies.min.js"></script>

<script src="pageResource?page=custompage_longboard&location=3rd-party/bootstrap/js/bootstrap.min.js"></script>
<script src="pageResource?page=custompage_longboard&location=3rd-party/angular-bootstrap-tpls.min.js"></script>
<script src="pageResource?page=custompage_longboard&location=3rd-party/angular-file-upload.js"></script> 
<script src="pageResource?page=custompage_longboard&location=3rd-party/ng-google-chart.js"></script> 
<script src="pageResource?page=custompage_longboard&location=3rd-party/angular-sanitize.min.js"></script> 


<!-- Application dependencies -->
<script src="pageResource?page=custompage_longboard&location=longboardmonitor.js&v=@_CURRENTTIMEMILIS_@"></script>

</body>
</html>		